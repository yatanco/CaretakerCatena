<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CareCatena ‚Ä¢ Caregiver Companion</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-shell">
    <!-- HEADER -->
    <header class="app-header">
      <div class="brand">
        <span class="brand-logo">üß†</span>
        <div>
          <h1>CareCatena</h1>
          <p class="subtitle">AI companion for Alzheimer‚Äôs caregivers</p>
        </div>
      </div>
      <div class="status-pill" id="status">
        Checking backend‚Ä¶
      </div>
    </header>

    <main class="app-main">

<!-- PATIENT OVERVIEW (collapsible) -->
<section class="card patient-card collapsible">
  <button class="collapse-toggle" id="patientToggle" type="button">
    <span id="patientNameHeader">Patient Overview</span>
    <span class="chevron">‚ñæ</span>
  </button>

  <div class="collapse-body" id="patientBody">
    <p class="card-subtitle">
      A quick overview of essential information about your loved one.
    </p>

    <div class="profile-fields">
      <div class="profile-field">
        <span class="profile-label">Name</span>
        <span class="profile-value" id="profileName">‚Äî</span>
      </div>
      <div class="profile-field">
        <span class="profile-label">Diagnosis</span>
        <span class="profile-value" id="profileDiagnosis">‚Äî</span>
      </div>
      <div class="profile-field">
        <span class="profile-label">Living situation</span>
        <span class="profile-value" id="profileLiving">‚Äî</span>
      </div>
      <div class="profile-field">
        <span class="profile-label">Personality & Preferences</span>
        <span class="profile-value" id="profilePersonality">‚Äî</span>
      </div>
    </div>

    <h3 style="margin-top:1rem; font-size:1rem;">Medications & Daily Schedule</h3>

    <div class="pill-list-block">
      <div id="pillList" class="pill-list">
        <p class="pill-empty">
          No medication items yet. Add pills or routine actions below.
        </p>
      </div>
    </div>

    <div class="pill-form">
      <input
        id="pillNameInput"
        type="text"
        class="pill-input"
        placeholder="Medication or routine (e.g. Memantine, Morning walk)"
      />
      <input
        id="pillDoseInput"
        type="text"
        class="pill-input"
        placeholder="Dose / notes (e.g. 10 mg)"
      />
      <input
        id="pillTimeInput"
        type="time"
        class="pill-input pill-time"
      />
      <button id="pillAddBtn" class="btn small" type="button">
        Add
      </button>
    </div>

    <button id="pillClearBtn" class="btn small" type="button">
      Clear all items
    </button>
  </div>
</section>

      <!-- CARETAKER JOURNAL -->
      <section class="card journal-card">
        <div class="card-header">
          <h2>Care Journal</h2>
          <span class="tag">Reflection</span>
        </div>
        <p class="card-subtitle">
          Write down observations, patterns, emotions, or incidents. These notes stay on your device and help improve support over time.
        </p>

        <div class="journal-input-block">
          <textarea
            id="journalInput"
            rows="3"
            class="journal-input"
            placeholder="Example: Tonight she became very agitated at 7pm, but soft music helped calm her down..."
          ></textarea>
          <div class="journal-actions">
            <button id="journalSaveBtn" class="btn small" type="button">
              Save entry
            </button>
            <span id="journalStatus" class="journal-status"></span>
          </div>
        </div>

        <div class="journal-list-block">
          <h3 class="journal-list-title">Recent entries</h3>
          <div id="journalList" class="journal-list">
            <p class="journal-empty">
              No entries yet. Start with a small reflection from today.
            </p>
          </div>
        </div>
      </section>

      <!-- CARETAKER CHAT -->
      <section class="card card-chat-main">
        <div class="card-header">
          <h2>Care Chat</h2>
          <span class="tag accent">AI Companion</span>
        </div>
        <p class="card-subtitle">
          Ask about routines, difficult behaviors, communication strategies, or your own wellbeing. Not medical advice.
        </p>

        <div class="chat-messages" id="chatMessages" aria-label="Chat conversation">
          <div class="chat-message bot">
            <div class="bubble">
              Hi, I‚Äôm your caregiving companion.
              Tell me a bit about who you‚Äôre taking care of and what‚Äôs hardest right now.
            </div>
          </div>
        </div>

        <form class="chat-input-row" id="chatForm">
          <textarea
            id="chatInput"
            rows="2"
            placeholder="Ask something like: ‚ÄúMy mom gets agitated at night, what can I do?‚Äù"
          ></textarea>
          <button type="submit" class="btn primary" id="chatSend">
            Send
          </button>
        </form>

        <div class="chat-helper">
          <button type="button" class="chip" data-preset>
            Evening agitation
          </button>
          <button type="button" class="chip" data-preset>
            Repeating questions
          </button>
          <button type="button" class="chip" data-preset>
            Shower refusal
          </button>
          <button type="button" class="chip" data-preset>
            I need some rest today
          </button>
        </div>
      </section>

      <!-- SYSTEM PANEL -->
      <section class="card system-card">
        <button class="system-toggle" id="systemToggle" type="button">
          System panel ¬∑ backend & 0G status
        </button>

        <div class="system-body hidden" id="systemBody">
          <!-- Backend Health -->
          <div class="system-block">
            <div class="system-block-header">
              <h3>Backend Health</h3>
            </div>
            <p>Check if the API on <code>localhost:4000</code> is reachable.</p>
            <button id="checkBtn" class="btn small">Check health</button>
          </div>

          <!-- Account -->
          <div class="system-block">
            <div class="system-block-header">
              <h3>0G Account</h3>
            </div>
            <p>Fetch the current 0G ledger / account balance.</p>
            <button id="btnBalance" class="btn small">Check account</button>
            <pre
              id="balanceOut"
              class="output small"
              aria-label="Account balance output"
            >
Click ‚ÄúCheck account‚Äù to load balance‚Ä¶
            </pre>
          </div>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <span>Hackathon MVP ‚Ä¢ CareCatena</span>
      <span class="footer-right">
        Built on 0G ‚Ä¢ Localhost:4000 ¬∑ 
        <a 
          href="https://github.com/yatanco/caretakercatena" 
          target="_blank" 
          rel="noopener noreferrer"
          style="color: inherit; text-decoration: underline;"
        >
          GitHub
        </a>
      </span>
    </footer>
  </div>
  <script src="app.js"></script>
</body>
</html>
